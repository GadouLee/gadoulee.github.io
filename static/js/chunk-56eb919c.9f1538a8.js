(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56eb919c"],{"2d73":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"20px"}},[a("h2",[e._v("人员信息")]),a("el-row",{attrs:{gutter:20}},[a("el-col",{ref:"left_col",staticClass:"left-col",attrs:{span:10}},[a("el-row",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("h2",{staticClass:"card-title"},[e._v("基础信息")]),a("el-form",{ref:"baseForm",attrs:{model:e.detail,"label-width":"100px",disabled:!0}},[a("el-form-item",{attrs:{label:"人员类型",prop:"staff_type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",clearable:"",placeholder:""},model:{value:e.detail.staff_type,callback:function(t){e.$set(e.detail,"staff_type",t)},expression:"detail.staff_type"}},[a("el-option",{attrs:{label:"集团员工",value:"1"}}),a("el-option",{attrs:{label:"合作伙伴",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{attrs:{title:e.detail.name},model:{value:e.detail.name,callback:function(t){e.$set(e.detail,"name",t)},expression:"detail.name"}})],1),a("el-form-item",{attrs:{label:"手机号",prop:"tel"}},[a("el-input",{attrs:{title:e.detail.tel},model:{value:e.detail.tel,callback:function(t){e.$set(e.detail,"tel",t)},expression:"detail.tel"}})],1),a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{attrs:{title:e.detail.email},model:{value:e.detail.email,callback:function(t){e.$set(e.detail,"email",t)},expression:"detail.email"}})],1),a("el-form-item",{attrs:{label:"常驻地区"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"province"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"",clearable:""},on:{change:e.provinceChange},model:{value:e.detail.province,callback:function(t){e.$set(e.detail,"province",t)},expression:"detail.province"}},e._l(e.provinceArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"city"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"",clearable:""},on:{change:e.cityChange},model:{value:e.detail.city,callback:function(t){e.$set(e.detail,"city",t)},expression:"detail.city"}},e._l(e.cityArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"area"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",clearable:"",placeholder:""},model:{value:e.detail.area,callback:function(t){e.$set(e.detail,"area",t)},expression:"detail.area"}},e._l(e.areaArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1)],1)],1)],1),a("el-form-item",{attrs:{label:"详细地址"}},[a("el-input",{attrs:{title:e.detail.address},model:{value:e.detail.address,callback:function(t){e.$set(e.detail,"address",t)},expression:"detail.address"}})],1)],1)],1)],1),a("el-row",e._l(e.bankInformation,(function(t,l){return a("el-card",{key:l,staticClass:"box-card",attrs:{shadow:"never"}},[a("h2",{staticClass:"card-title"},[a("span",[e._v("银行基本信息")])]),a("el-form",{ref:"bank"+l,refInFor:!0,attrs:{model:t,"label-width":"100px",rules:e.rules,disabled:!0}},[a("el-form-item",{attrs:{label:"账户名称",prop:"bank_name"}},[a("el-input",{attrs:{title:t.bank_name},model:{value:t.bank_name,callback:function(a){e.$set(t,"bank_name",a)},expression:"bank.bank_name"}})],1),a("el-form-item",{attrs:{label:"银行账号",prop:"bank_number"}},[a("el-input",{attrs:{title:t.bank_number,oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:t.bank_number,callback:function(a){e.$set(t,"bank_number",a)},expression:"bank.bank_number"}})],1),a("el-form-item",{attrs:{label:"开户银行",prop:"open_bank"}},[a("el-input",{attrs:{title:t.open_bank},model:{value:t.open_bank,callback:function(a){e.$set(t,"open_bank",a)},expression:"bank.open_bank"}})],1),a("el-form-item",{attrs:{label:"备注信息",prop:"remarks"}},[a("el-input",{attrs:{title:t.remarks,type:"textarea",rows:3},model:{value:t.remarks,callback:function(a){e.$set(t,"remarks",a)},expression:"bank.remarks"}})],1)],1)],1)})),1)],1),a("el-col",{attrs:{span:10,offset:1}},[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("h2",{staticClass:"card-title"},[e._v("扩展信息")]),a("el-form",{ref:"detail",attrs:{model:e.detail,rules:e.rules,"label-width":"100px",disabled:!0}},[a("el-form-item",{attrs:{label:"所属销售负责人",prop:"sales_manager"}},[a("TypeSearch",{attrs:{type:"staff",detail:!0},model:{value:e.detail.sales_manager,callback:function(t){e.$set(e.detail,"sales_manager",t)},expression:"detail.sales_manager"}})],1),a("el-form-item",{attrs:{label:"资源池",prop:"resource_pool"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:e.detail.resource_pool,callback:function(t){e.$set(e.detail,"resource_pool",t)},expression:"detail.resource_pool"}},[a("el-option",{attrs:{label:"公海",value:"1"}}),a("el-option",{attrs:{label:"私海",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"照片",prop:"head"}},[e.detail.head?a("img",{staticClass:"avatar",attrs:{src:e.detail.head,alt:""}}):e._e()]),a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{title:e.detail.nickname},model:{value:e.detail.nickname,callback:function(t){e.$set(e.detail,"nickname",t)},expression:"detail.nickname"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"sex"}},[a("el-select",{attrs:{clearable:"",placeholder:""},model:{value:e.detail.sex,callback:function(t){e.$set(e.detail,"sex",t)},expression:"detail.sex"}},[a("el-option",{attrs:{label:"男",value:"1"}}),a("el-option",{attrs:{label:"女",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"所属公司",prop:"company"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:""},model:{value:e.detail.company,callback:function(t){e.$set(e.detail,"company",t)},expression:"detail.company"}},e._l(e.companyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"职务",prop:"position"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:""},model:{value:e.detail.position,callback:function(t){e.$set(e.detail,"position",t)},expression:"detail.position"}},[a("el-option",{attrs:{label:"董事长",value:"1"}}),a("el-option",{attrs:{label:"总经理",value:"2"}}),a("el-option",{attrs:{label:"副总经理",value:"3"}}),a("el-option",{attrs:{label:"财务经理",value:"4"}}),a("el-option",{attrs:{label:"运营经理",value:"5"}}),a("el-option",{attrs:{label:"商务经理",value:"6"}}),a("el-option",{attrs:{label:"市场经理",value:"7"}}),a("el-option",{attrs:{label:"员工",value:"8"}}),a("el-option",{attrs:{label:"其他",value:"9"}})],1)],1),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.detail.birthday,callback:function(t){e.$set(e.detail,"birthday",t)},expression:"detail.birthday"}})],1),a("el-form-item",{attrs:{label:"籍贯"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"native_place_province"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",placeholder:"",clearable:""},on:{change:e.provinceChange},model:{value:e.detail.native_place_province,callback:function(t){e.$set(e.detail,"native_place_province",t)},expression:"detail.native_place_province"}},e._l(e.native_place_provinceArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"native_place_city"}},[a("el-select",{staticStyle:{width:"90%"},attrs:{filterable:"",clearable:"",placeholder:""},model:{value:e.detail.native_place_city,callback:function(t){e.$set(e.detail,"native_place_city",t)},expression:"detail.native_place_city"}},e._l(e.native_place_cityArr,(function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1)],1)],1)],1),a("el-form-item",{attrs:{label:"性格特征",prop:"character"}},[a("el-input",{attrs:{title:e.detail.character},model:{value:e.detail.character,callback:function(t){e.$set(e.detail,"character",t)},expression:"detail.character"}})],1),a("el-form-item",{attrs:{label:"兴趣爱好",prop:"hobby"}},[a("el-input",{attrs:{title:e.detail.hobby},model:{value:e.detail.hobby,callback:function(t){e.$set(e.detail,"hobby",t)},expression:"detail.hobby"}})],1),a("el-form-item",{attrs:{label:"社交特点",prop:"characteristic"}},[a("el-input",{attrs:{title:e.detail.characteristic},model:{value:e.detail.characteristic,callback:function(t){e.$set(e.detail,"characteristic",t)},expression:"detail.characteristic"}})],1),a("el-form-item",{attrs:{label:"习惯特征",prop:"habit"}},[a("el-input",{attrs:{title:e.detail.habit},model:{value:e.detail.habit,callback:function(t){e.$set(e.detail,"habit",t)},expression:"detail.habit"}})],1),a("el-form-item",{attrs:{label:"忌讳事项",prop:"taboos"}},[a("el-input",{attrs:{title:e.detail.taboos},model:{value:e.detail.taboos,callback:function(t){e.$set(e.detail,"taboos",t)},expression:"detail.taboos"}})],1),a("el-form-item",{attrs:{label:"婚姻状况",prop:"marriage"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:""},model:{value:e.detail.marriage,callback:function(t){e.$set(e.detail,"marriage",t)},expression:"detail.marriage"}},[a("el-option",{attrs:{label:"未婚",value:"1"}}),a("el-option",{attrs:{label:"已婚",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"子女情况",prop:"children"}},[a("el-input",{attrs:{title:e.detail.children},model:{value:e.detail.children,callback:function(t){e.$set(e.detail,"children",t)},expression:"detail.children"}})],1),a("el-form-item",{attrs:{label:"年收入",prop:"income"}},[a("el-input",{attrs:{title:e.detail.income},model:{value:e.detail.income,callback:function(t){e.$set(e.detail,"income",t)},expression:"detail.income"}})],1),a("el-form-item",{attrs:{label:"消费习惯",prop:"consumption"}},[a("el-input",{attrs:{title:e.detail.consumption},model:{value:e.detail.consumption,callback:function(t){e.$set(e.detail,"consumption",t)},expression:"detail.consumption"}})],1),a("el-form-item",{attrs:{label:"销售策略",prop:"sales_strategy"}},[a("el-input",{attrs:{title:e.detail.sales_strategy},model:{value:e.detail.sales_strategy,callback:function(t){e.$set(e.detail,"sales_strategy",t)},expression:"detail.sales_strategy"}})],1)],1)],1)],1)],1)],1)},r=[],i=a("5530"),n=a("c7eb"),o=a("1da1"),c=(a("7db0"),a("a9e3"),a("b64b"),a("d3b7"),a("3ca3"),a("0643"),a("fffc"),a("4e3e"),a("159b"),a("ddb0"),a("3841")),s={data:function(){return{provinceArr:[],cityArr:[],areaArr:[],native_place_provinceArr:[],native_place_cityArr:[],detail:{},bankInformation:[],leftColHeight:"0px"}},methods:{regionChange:function(e,t){var a=this;return Object(o["a"])(Object(n["a"])().mark((function l(){var r,i,o;return Object(n["a"])().wrap((function(l){while(1)switch(l.prev=l.next){case 0:return l.next=2,Object(c["d"])({parent_id:e});case 2:return r=l.sent,a.cityArr=r.data,i=a.cityArr.find((function(e){return e.id===t})).id,l.next=7,Object(c["d"])({parent_id:i});case 7:o=l.sent,a.areaArr=o.data;case 9:case"end":return l.stop()}}),l)})))()},native_regionChange:function(e,t){var a=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var l;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])({parent_id:e});case 2:l=t.sent,a.native_place_cityArr=l.data;case 4:case"end":return t.stop()}}),t)})))()}},watch:{detail:{handler:function(e,t){var a=this;return Object(o["a"])(Object(n["a"])().mark((function l(){return Object(n["a"])().wrap((function(l){while(1)switch(l.prev=l.next){case 0:e.province===t.province&&e.city===t.city||a.regionChange(e.province,e.city),e.native_place_province!==t.native_place_province&&a.native_regionChange(e.native_place_province);case 2:case"end":return l.stop()}}),l)})))()},deep:!0}},computed:{companyList:function(){return this.$store.state.company.companyList}},mounted:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a,l,r,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=Number(e.$route.params.id),"number"===typeof a){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(c["e"])({id:a});case 5:if(l=t.sent,200===l.code){t.next=8;break}return t.abrupt("return");case 8:r=l.data,Object.keys(r).forEach((function(e){0==r[e]&&(r[e]="")})),e.bankInformation=l.data.bank,e.detail=Object(i["a"])(Object(i["a"])({},l.data),{},{staff_type:l.data.staff_type+"",resource_pool:l.data.resource_pool+"",marriage:l.data.marriage+""}),s=function(){var t=Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["d"])({parent_id:0});case 2:a=t.sent,e.provinceArr=a.data,e.native_place_provinceArr=a.data;case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s();case 14:case"end":return t.stop()}}),t)})))()},components:{TypeSearch:function(){return a.e("chunk-2d0e19ad").then(a.bind(null,"7ac0"))}}},d=s,p=(a("c904"),a("2877")),u=Object(p["a"])(d,l,r,!1,null,"31fbec9f",null);t["default"]=u.exports},3841:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"g",(function(){return i})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"a",(function(){return d}));var l=a("b775");function r(e){return Object(l["a"])({url:"/Staffs/add",method:"post",data:e})}function i(e){return Object(l["a"])({url:"/Staffs/update",method:"post",data:e})}function n(e){return Object(l["a"])({url:"/Staffs/getInfo",method:"post",data:e})}function o(e){return Object(l["a"])({url:"/Staffs/delete",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/Staffs/getList",method:"post",data:e})}function s(e){return Object(l["a"])({url:"/Publics/getArea",method:"post",data:e})}function d(e){return Object(l["a"])({url:"/Payments/deleteStaffBank",method:"post",data:e})}},6172:function(e,t,a){},"7db0":function(e,t,a){"use strict";var l=a("23e7"),r=a("b727").find,i=a("44d2"),n=a("ae40"),o="find",c=!0,s=n(o);o in[]&&Array(1)[o]((function(){c=!1})),l({target:"Array",proto:!0,forced:c||!s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},c904:function(e,t,a){"use strict";a("6172")},fffc:function(e,t,a){"use strict";var l=a("23e7"),r=a("2266"),i=a("1c0b"),n=a("825a");l({target:"Iterator",proto:!0,real:!0},{find:function(e){return n(this),i(e),r(this,(function(t){if(e(t))return r.stop(t)}),void 0,!1,!0).result}})}}]);