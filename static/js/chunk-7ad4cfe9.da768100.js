(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ad4cfe9"],{"0a50":function(e,t,n){},2909:function(e,t,n){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function r(e){if(Array.isArray(e))return a(e)}n.d(t,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function i(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("fb6a"),n("b0c0"),n("ac1f"),n("00b4"),n("25f0");function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return r(e)||i(e)||o(e)||s()}},6062:function(e,t,n){"use strict";var a=n("6d61"),r=n("6566");e.exports=a("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),r)},"63bb":function(e,t,n){"use strict";n("0a50")},6566:function(e,t,n){"use strict";var a=n("9bf2").f,r=n("7c73"),i=n("e2cc"),o=n("0366"),s=n("19aa"),c=n("2266"),u=n("7dd0"),l=n("2626"),p=n("83ab"),d=n("f183").fastKey,f=n("69f3"),h=f.set,m=f.getterFor;e.exports={getConstructor:function(e,t,n,u){var l=e((function(e,a){s(e,l,t),h(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),p||(e.size=0),void 0!=a&&c(a,e[u],e,n)})),f=m(t),v=function(e,t,n){var a,r,i=f(e),o=g(e,t);return o?o.value=n:(i.last=o={index:r=d(t,!0),key:t,value:n,previous:a=i.last,next:void 0,removed:!1},i.first||(i.first=o),a&&(a.next=o),p?i.size++:e.size++,"F"!==r&&(i.index[r]=o)),e},g=function(e,t){var n,a=f(e),r=d(t);if("F"!==r)return a.index[r];for(n=a.first;n;n=n.next)if(n.key==t)return n};return i(l.prototype,{clear:function(){var e=this,t=f(e),n=t.index,a=t.first;while(a)a.removed=!0,a.previous&&(a.previous=a.previous.next=void 0),delete n[a.index],a=a.next;t.first=t.last=void 0,p?t.size=0:e.size=0},delete:function(e){var t=this,n=f(t),a=g(t,e);if(a){var r=a.next,i=a.previous;delete n.index[a.index],a.removed=!0,i&&(i.next=r),r&&(r.previous=i),n.first==a&&(n.first=r),n.last==a&&(n.last=i),p?n.size--:t.size--}return!!a},forEach:function(e){var t,n=f(this),a=o(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){a(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),i(l.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),p&&a(l.prototype,"size",{get:function(){return f(this).size}}),l},setStrong:function(e,t,n){var a=t+" Iterator",r=m(t),i=m(a);u(e,t,(function(e,t){h(this,{type:a,target:e,state:r(e),kind:t,last:void 0})}),(function(){var e=i(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},"6d61":function(e,t,n){"use strict";var a=n("23e7"),r=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("f183"),c=n("2266"),u=n("19aa"),l=n("861d"),p=n("d039"),d=n("1c7e"),f=n("d44e"),h=n("7156");e.exports=function(e,t,n){var m=-1!==e.indexOf("Map"),v=-1!==e.indexOf("Weak"),g=m?"set":"add",b=r[e],y=b&&b.prototype,k=b,w={},x=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof b||!(v||y.forEach&&!p((function(){(new b).entries().next()})))))k=n.getConstructor(t,e,m,g),s.REQUIRED=!0;else if(i(e,!0)){var _=new k,L=_[g](v?{}:-0,1)!=_,j=p((function(){_.has(1)})),O=d((function(e){new b(e)})),P=!v&&p((function(){var e=new b,t=5;while(t--)e[g](t,t);return!e.has(-0)}));O||(k=t((function(t,n){u(t,k,e);var a=h(new b,t,k);return void 0!=n&&c(n,a[g],a,m),a})),k.prototype=y,y.constructor=k),(j||P)&&(x("delete"),x("has"),m&&x("get")),(P||L)&&x(g),v&&y.clear&&delete y.clear}return w[e]=k,a({global:!0,forced:k!=b},w),f(k,e),v||n.setStrong(k,e,m),k}},"9ed6":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticStyle:{color:"#fff","font-size":"30px","text-align":"center"}},[e._v("旭龙V1.0-项目审批管理系统")]),n("h3",{staticClass:"title"},[e._v("登录")])]),n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"user"}})],1),n("el-input",{ref:"username",attrs:{title:e.loginForm.usernames,placeholder:"用户名称",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("svg-icon",{attrs:{"icon-class":"password"}})],1),n("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v("Login")])],1)],1)},r=[],i=n("c7eb"),o=n("1da1"),s=n("2909"),c=(n("d81d"),n("b0c0"),n("e9c4"),n("d3b7"),n("6062"),n("3ca3"),n("a573"),n("ddb0"),n("61f7")),u=n("a18c"),l=n("277f"),p={name:"Login",data:function(){var e=function(e,t,n){Object(c["b"])(t)?n():n(new Error("Please enter the correct user name"))},t=function(e,t,n){n()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this,t=!0;this.$refs.loginForm.validate((function(a){if(console.log("2222222222222222222"),!a)return console.log("error submit!!"),!1;e.loading=!0;var r=[],i=u["a"].options.routes;e.$store.dispatch("user/login",e.loginForm).then((function(a){localStorage.setItem("token",a.data),e.$store.dispatch("user/getInfo").then((function(e){t="admin"==e.username})),e.$store.dispatch("company/getAll"),e.getCompanyListByDataAuthority(),e.getStaffListByDataAuthority(),e.getAllContractList(),e.getAllProjectList(),e.$store.dispatch("user/getUserAuthRule").then((function(a){console.log("user/getUserAuthRule",a);var o=[],c=[];a.data[0].children.map((function(e,t){o.push(e.name),e.children.map((function(t){o.push(e.name),c.push(t.name)}))}));var u=Object(s["a"])(new Set(o));console.log("bb",u),u.map((function(e){"Index"===e&&i.map((function(e){"/"==e.path&&c.indexOf("Index_index")>=0&&r.push(e)})),"Permits"===e&&i.map((function(e){"/pend-approval"==e.path&&(r.push(e),e.children=[],c.map((function(t){"Permits_getList"==t&&e.children.push({path:"pendApprovalList",name:"pendApprovalList",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-e5afae80")]).then(n.bind(null,"67f5"))},meta:{title:"待审批事项"}}),"Permits_getMyList"==t&&e.children.push({path:"my_pendApprovalList",name:"my_pendApprovalList",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-578a8016")]).then(n.bind(null,"a594"))},meta:{title:"我发起的审批"}}),"Permits_getMyParticipatedList"==t&&e.children.push({path:"participate_pendApprovalList",name:"participate_pendApprovalList",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-ea1fe51c")]).then(n.bind(null,"2978"))},meta:{title:"我参与的审批"}})})))})),"Projects"===e&&i.map((function(e){"/project-management"==e.path&&c.indexOf("Projects_getList")>=0&&r.push(e)})),"Companys"===e&&i.map((function(e){"/company-management"==e.path&&c.indexOf("Companys_getList")>=0&&r.push(e)})),"Staffs"===e&&i.map((function(e){"/personnel_management"==e.path&&c.indexOf("Staffs_getList")>=0&&r.push(e)})),"Contracts"===e&&i.map((function(e){"/contrct_management"==e.path&&(r.push(e),e.children=[],c.map((function(t){"Contracts_getProjectList"==t&&e.children.push({path:"project_contract_table",name:"project_contract_table",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-6d6a5304")]).then(n.bind(null,"51d1"))},meta:{title:"项目合同列表"}}),"Contracts_getAdministrativeList"==t&&e.children.push({path:"administrative_contract_table",name:"administrative_contract_table",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-741b274c")]).then(n.bind(null,"1fbb"))},meta:{title:"行政合同列表"}})})))})),"Invoices"===e&&i.map((function(e){"/invoices-management"==e.path&&c.indexOf("Invoices_getList")>=0&&r.push(e)})),"Payments"===e&&i.map((function(e){if("/fund_account_management"==e.path){r.push(e);e.children[0];e.children=[],c.map((function(t){"Payments_getList"==t&&e.children.push({path:"transfer_list",name:"transfer_list",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-9a79d1c8")]).then(n.bind(null,"ddfe"))},meta:{title:"转账列表"}}),"Payments_getCompanyBankList"==t&&e.children.push({path:"online_banking_account",name:"online_banking_account",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-7f5b2c42")]).then(n.bind(null,"b281"))},meta:{title:"公司网银账户汇总"}}),"Payments_getCompanyCashList"==t&&e.children.push({path:"cash_account",name:"cash_account",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-5eea60a9")]).then(n.bind(null,"2431"))},meta:{title:"公司现钞账户汇总"}}),"Payments_getStaffBankList"==t&&e.children.push({path:"personal_online_banking_account",name:"personal_online_banking_account",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-707a6d1c")]).then(n.bind(null,"46a4"))},meta:{title:"人员网银账户汇总"}}),"Payments_getStaffCashList"==t&&e.children.push({path:"personal_cash_account",name:"personal_cash_account",component:function(){return Promise.all([n.e("chunk-commons"),n.e("chunk-8de7e5ae"),n.e("chunk-4d72efd0"),n.e("chunk-4b6bb277")]).then(n.bind(null,"008a"))},meta:{title:"人员现钞账户汇总"}})}))}})),"BidSecurityDeposits"===e&&i.map((function(e){"/bidSecurity-deposit"==e.path&&c.indexOf("BidSecurityDeposits_getList")>=0&&r.push(e)})),"BusinessExpensess"===e&&i.map((function(e){"/business-management"==e.path&&c.indexOf("BusinessExpensess_getList")>=0&&r.push(e)})),"user"===e&&t&&i.map((function(e){if("/systemSettings"==e.path){r.push(e);e.children[0];e.children=[],c.map((function(t){"user_list"==t&&e.children.push({path:"/systemSettings",name:"systemSettings",component:function(){return n.e("chunk-a6631084").then(n.bind(null,"2a47"))},meta:{title:"成员"}}),"group_list"==t&&e.children.push({path:"/systemRole",name:"systemRole",component:function(){return n.e("chunk-967b5f16").then(n.bind(null,"3e6b"))},meta:{title:"角色"}})}))}}))})),console.log("routerArr"),localStorage.setItem("authObj",JSON.stringify(r)),setTimeout((function(){e.$router.push({path:"/"}),e.loading=!1}),200)}))})).catch((function(){e.loading=!1}))}))},getCompanyListByDataAuthority:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["l"])();case 2:n=t.sent,e.CompanyList=n.data,e.$store.commit("company/setCompanyList",n.data);case 5:case"end":return t.stop()}}),t)})))()},getStaffListByDataAuthority:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["n"])();case 2:n=t.sent,e.StaffList=n.data,e.$store.commit("company/setStaffList",n.data);case 5:case"end":return t.stop()}}),t)})))()},getAllContractList:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["j"])();case 2:n=t.sent,e.ContractList=n.data,e.$store.commit("company/setContractList",n.data);case 5:case"end":return t.stop()}}),t)})))()},getAllProjectList:function(){var e=this;return Object(o["a"])(Object(i["a"])().mark((function t(){var n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["k"])();case 2:n=t.sent,e.ProjectList=n.data,e.$store.commit("company/setProjectList",n.data);case 5:case"end":return t.stop()}}),t)})))()}}},d=p,f=(n("63bb"),n("f5bd"),n("2877")),h=Object(f["a"])(d,a,r,!1,null,null,null);t["default"]=h.exports},bb2f:function(e,t,n){var a=n("d039");e.exports=!a((function(){return Object.isExtensible(Object.preventExtensions({}))}))},bc13:function(e,t,n){},f183:function(e,t,n){var a=n("d012"),r=n("861d"),i=n("5135"),o=n("9bf2").f,s=n("90e3"),c=n("bb2f"),u=s("meta"),l=0,p=Object.isExtensible||function(){return!0},d=function(e){o(e,u,{value:{objectID:"O"+ ++l,weakData:{}}})},f=function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,u)){if(!p(e))return"F";if(!t)return"E";d(e)}return e[u].objectID},h=function(e,t){if(!i(e,u)){if(!p(e))return!0;if(!t)return!1;d(e)}return e[u].weakData},m=function(e){return c&&v.REQUIRED&&p(e)&&!i(e,u)&&d(e),e},v=e.exports={REQUIRED:!1,fastKey:f,getWeakData:h,onFreeze:m};a[u]=!0},f5bd:function(e,t,n){"use strict";n("bc13")}}]);