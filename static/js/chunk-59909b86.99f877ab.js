(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59909b86"],{"0993":function(e,t,i){e.exports=i.p+"static/img/checked.f8521b5f.png"},2068:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{position:"relative",overflow:"hidden"}},[e.showSubmitBtn?e._e():a("div",{staticStyle:{position:"absolute",top:"5px",right:"300px","z-index":"10"}},["已审批"==e.state_name?a("img",{staticStyle:{display:"block",width:"150px"},attrs:{src:i("0993"),alt:""}}):e._e(),"审批中"==e.state_name?a("img",{staticStyle:{display:"block",width:"150px"},attrs:{src:i("9a04"),alt:""}}):e._e(),"已驳回"==e.state_name?a("img",{staticStyle:{display:"block",width:"150px"},attrs:{src:i("ac6f"),alt:""}}):e._e()]),e.permit_type_name?a("div",{staticStyle:{"margin-top":"50px"}},[a("span",{staticStyle:{"padding-left":"20px",color:"#666666"}},[e._v("审批事项："+e._s(e.permit_type_name))]),e.showIsTop?a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:e.handleTop}},[e._v(e._s(e.istop?"取消置顶":"置顶主页"))]):e._e()],1):e._e(),a("div",{staticStyle:{display:"flex","padding-top":"30px"}},[a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center",padding:"20px","max-width":"550px"}},[a("div",{staticStyle:{"font-size":"16px"}},[e._v("选择发票类型：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{disabled:(e.detailToCreate||e.formDisabled)&&e.from!==e.COMPONENT_OPEN_INFO.FROM_TREE_TO_INVOICE,placeholder:"请选择",size:"Default"},model:{value:e.invoicesType,callback:function(t){e.invoicesType=t},expression:"invoicesType"}},[a("el-option",{attrs:{label:"普通发票",value:"1"}}),a("el-option",{attrs:{label:"专用发票",value:"2"}})],1)],1),e.isAdmin?a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center",padding:"20px"}},[a("div",{staticStyle:{"font-size":"16px"}},[e._v("是否归属项目：")]),a("el-select",{staticStyle:{width:"150px"},attrs:{disabled:e.detailToCreate||e.formDisabled,placeholder:"请选择",size:"Default"},on:{change:e.handleIsProjectChange},model:{value:e.reqParam.is_project,callback:function(t){e.$set(e.reqParam,"is_project",t)},expression:"reqParam.is_project"}},[a("el-option",{attrs:{label:"归属",value:1}}),a("el-option",{attrs:{label:"不归属",value:0}})],1)],1):e._e(),e.isAdmin?a("div",{staticStyle:{flex:"1",display:"flex","justify-content":"center","align-items":"center",padding:"20px"}},[a("div",{staticStyle:{"font-size":"16px"}},[e._v("选择项目：")]),a("el-select",{style:{width:(e.detailToCreate||e.formDisabled,"300px")},attrs:{disabled:e.detailToCreate||e.formDisabled,placeholder:"请选择",size:"Default",filterable:"",clearable:""},on:{change:function(t){return e.handleSelectChange(t,"project")}},model:{value:e.reqParam.project_id,callback:function(t){e.$set(e.reqParam,"project_id",t)},expression:"reqParam.project_id"}},e._l(e.projectList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.project_name,value:e.id}})})),1)],1):e._e(),a("div",{staticStyle:{flex:"1",display:"flex","justify-content":"flex-end","align-items":"center",padding:"20px"}},[a("div",{staticStyle:{"font-size":"16px"}},[e._v("选择合同：")]),a("el-select",{style:{width:(e.detailToCreate||e.formDisabled,"300px")},attrs:{disabled:e.detailToCreate||e.formDisabled,placeholder:"请选择",size:"Default",filterable:"",clearable:""},on:{change:function(t){return e.handleSelectChange(t,"contract")}},model:{value:e.reqParam.contract_id,callback:function(t){e.$set(e.reqParam,"contract_id",t)},expression:"reqParam.contract_id"}},e._l(e.contractList,(function(e,t){return a("el-option",{key:e.id,attrs:{label:e.contract_name,value:e.id}})})),1)],1)]),a("div",{staticClass:"invoices",staticStyle:{padding:"80px 20px"}},[a("div",{staticStyle:{"font-size":"25px","text-align":"center"}},[e._v("电子发票( "+e._s(1==e.invoicesType?"普通":"专用")+" )发票")]),e._m(0),a("div",{staticStyle:{display:"flex","font-size":"12px"}},[a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center"}},[a("div",{staticStyle:{width:"30px","flex-shrink":"0",border:"1px solid #eee","text-align":"center",padding:"5px","border-bottom":"none"}},[e._v(" 购买方信息")]),a("div",{staticStyle:{height:"100%",width:"100%",display:"flex","flex-direction":"column"}},[a("div",{staticStyle:{flex:"1",border:"1px solid #eee","border-left":"none","border-right":"none",display:"flex","align-items":"center","padding-left":"5px"}},[e._v(" 名称: "),a("el-select",{staticStyle:{width:"calc(100% - 30px)"},attrs:{disabled:e.detailToCreate,placeholder:"请选择",size:"Default",filterable:"",clearable:""},model:{value:e.reqParam.payment_company_id,callback:function(t){e.$set(e.reqParam,"payment_company_id",t)},expression:"reqParam.payment_company_id"}},e._l(e.companyList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("div",{staticStyle:{flex:"1","border-right":"none",display:"flex","align-items":"center","padding-left":"5px"}},[e._v(" 统一社会信用代码/纳税人识别号: "),a("span",{staticStyle:{"padding-left":"5px",color:"#666"}},[e._v(e._s(e.payInvoice_code))])])])]),a("div",{staticStyle:{flex:"1",display:"flex","align-items":"center","font-size":"12px"}},[a("div",{staticStyle:{width:"30px","flex-shrink":"0",border:"1px solid #eee","text-align":"center",padding:"5px","border-bottom":"none"}},[e._v(" 销售方信息")]),a("div",{staticStyle:{height:"100%",width:"100%",display:"flex","flex-direction":"column"}},[a("div",{staticStyle:{flex:"1",border:"1px solid #eee","border-left":"none",display:"flex","align-items":"center","padding-left":"5px"}},[e._v(" 名称: "),a("el-select",{staticStyle:{width:"calc(100% - 30px)"},attrs:{disabled:e.detailToCreate,placeholder:"请选择",size:"Default",filterable:"",clearable:""},model:{value:e.reqParam.revenue_company_id,callback:function(t){e.$set(e.reqParam,"revenue_company_id",t)},expression:"reqParam.revenue_company_id"}},e._l(e.companyList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("div",{staticStyle:{flex:"1","border-right":"1px solid #eee",display:"flex","align-items":"center","padding-left":"5px"}},[e._v(" 统一社会信用代码/纳税人识别号:"),a("span",{staticStyle:{"padding-left":"5px",color:"#666"}},[e._v(e._s(e.revenue_Invoice_code))])])])])]),a("div",[a("div",{staticStyle:{display:"flex","font-size":"12px"}},[a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-left":"1px solid #eee","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 项目名称(必填) "),a("el-button",{attrs:{type:"text"},on:{click:e.handleAddItem}},[e._v("添加")])],1),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 规格型号(选填)")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 单位(必填)")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 数量(必填)")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 单价(含税)(必埴)")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 金额(含税)(必埴)")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee","border-top":"1px solid #eee"}},[e._v(" 税率/征收率(必埴)")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-top":"1px solid #eee","border-right":"1px solid #eee"}},[e._v(" 税额(必埴)")])]),e._l(e.reqParam.info_data,(function(t,i){return a("div",{key:i,staticStyle:{display:"flex","font-size":"12px","box-sizing":"border-box"}},[a("div",{staticStyle:{height:"30px",flex:"1","border-left":"1px solid #eee","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",style:{height:"30px"},attrs:{title:t.project_name},on:{input:e.handleInput},model:{value:t.project_name,callback:function(i){e.$set(t,"project_name",i)},expression:"item.project_name"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.specifications},on:{input:e.handleInput},model:{value:t.specifications,callback:function(i){e.$set(t,"specifications",i)},expression:"item.specifications"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.unit},on:{input:e.handleInput},model:{value:t.unit,callback:function(i){e.$set(t,"unit",i)},expression:"item.unit"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.quantity},on:{input:function(t){return e.handleInput(t,i,"quantity")}},model:{value:t.quantity,callback:function(i){e.$set(t,"quantity",i)},expression:"item.quantity"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.unit_price},on:{input:function(t){return e.handleInput(t,i,"unit_price")}},model:{value:t.unit_price,callback:function(i){e.$set(t,"unit_price",i)},expression:"item.unit_price"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.total_amount},on:{input:function(t){return e.handleInput(t,i,"total_amount")}},model:{value:t.total_amount,callback:function(i){e.$set(t,"total_amount",i)},expression:"item.total_amount"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.tariff},on:{input:function(t){return e.handleInput(t,i,"tariff")}},model:{value:t.tariff,callback:function(i){e.$set(t,"tariff",i)},expression:"item.tariff"}})],1),a("div",{staticStyle:{height:"30px",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:t.tax},on:{input:function(t){return e.handleInput(t,i,"tax")}},model:{value:t.tax,callback:function(i){e.$set(t,"tax",i)},expression:"item.tax"}})],1)])})),a("div",{staticStyle:{display:"flex","font-size":"12px","box-sizing":"border-box"}},[a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-left":"1px solid #eee","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[e._v(" 合计")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"left",flex:"4","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("span",{staticStyle:{"padding-left":"5px"}},[e._v(e._s(e.all_price_upCase))])]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[e._v(" (小写)￥")]),a("div",{staticStyle:{height:"30px","line-height":"30px","text-align":"left",flex:"2","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("span",{staticStyle:{"padding-left":"5px"}},[e._v(e._s(e.reqParam.money))])])]),a("div",{staticStyle:{display:"flex","font-size":"12px"}},[a("div",{staticStyle:{width:"20px","flex-shrink":"0",height:"50px","line-height":"25px","text-align":"center","border-left":"1px solid #eee","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[e._v(" 备注")]),a("div",{staticStyle:{height:"50px","line-height":"50px","text-align":"center",flex:"1","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[a("el-input",{staticClass:"cumInput",attrs:{title:e.reqParam.remarks},model:{value:e.reqParam.remarks,callback:function(t){e.$set(e.reqParam,"remarks",t)},expression:"reqParam.remarks"}})],1)]),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{height:"50px","line-height":"50px","text-align":"center",flex:"1","border-left":"1px solid #eee","border-bottom":"1px solid #eee","border-right":"1px solid #eee"}},[e.showSubmitBtn?a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleInvoicesAdd}},[e._v("提交")]):e._e(),e.canyuShow?a("div",[e.showSubmitBtn||0!=e.stateFlag?e._e():a("div",{staticClass:"action",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.handlePass()}}},[e._v("通过")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.handleReject()}}},[e._v("驳回")])],1)]):e._e()],1)])],2)])])},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticStyle:{display:"flex","justify-content":"center"}},[i("div",{staticStyle:{"font-size":"14px",display:"flex",margin:"20px"}},[i("div",[e._v("发票号码:以最终开出发票为准")]),i("div",{staticStyle:{"margin-left":"20px"}},[e._v("开票日期:以最终开出发票为准")])])])}],r=i("5530"),o=i("c7eb"),s=i("1da1"),c=(i("99af"),i("7db0"),i("d81d"),i("e9c4"),i("a9e3"),i("b680"),i("b64b"),i("d3b7"),i("0643"),i("fffc"),i("a573"),i("277f")),l=i("429f"),d=i("9beb"),p=i("267e"),u={data:function(){return{COMPONENT_OPEN_INFO:p["a"],state_name:"",permit_type_name:"",istop:!1,showIsTop:!1,formDisabled:!1,isAdd:!0,canyuShow:!0,isAdmin:!0,showSubmitBtn:!0,invoicesType:"2",all_price_upCase:"",companyList:[],projectList:[],contractList:[],payInvoice_code:"",revenue_Invoice_code:"",reqParam:{is_project:0,project_id:"",contract_id:"",type:"",payment_company_id:"",money:"",revenue_company_id:"",remarks:"",info_data:[{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""},{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""},{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""}]},detailToCreate:!1,from:""}},watch:{reqParam:{handler:function(e,t){var i=this;this.companyList.map((function(t,a){t.id==e.payment_company_id&&(i.payInvoice_code=t.invoice_code),t.id==e.revenue_company_id&&(i.revenue_Invoice_code=t.invoice_code)}));var a=0;e.info_data.map((function(e){a=Number(a)+Number(e.total_amount)})),this.publicsNumToUpper(a),this.reqParam.money=a.toFixed(2)},deep:!0,immediate:!0},"reqParam.project_id":{handler:function(e,t){console.log("newVnewVnewVnewVnewVnewV",e,t),e!=t&&(this.reqParam.contract_id="")},deep:!0}},mounted:function(){var e=this;if(this.state_name=this.$route.query.state_name,this.permit_type_name=this.$route.query.permit_type_name,this.istop=1==this.$route.query.isTop,this.showIsTop=0==this.$route.query.state,this.getCompanyList(),this.$route.query.canyuShow||void 0==this.$route.query.canyuShow||(this.canyuShow=this.$route.query.canyuShow),this.$route.query.data){var t=JSON.parse(this.$route.query.data);console.log("JSON.parse(this.$route.query.data)",JSON.parse(this.$route.query.data)),Object(c["j"])({project_id:JSON.parse(this.$route.query.data).project_id}).then((function(t){console.log("22222222222222222222222",JSON.parse(e.$route.query.data).project_id,t),e.contractList=t.data,e.reqParam.contract_id=e.$route.query.detailToCreate?JSON.parse(e.$route.query.data).id:JSON.parse(e.$route.query.data).contract_id})),"普票"===t.type?this.invoicesType="1":this.invoicesType="2";var i=JSON.parse(this.$route.query.data);this.$route.query.type?(3==this.$route.query.type&&(this.formDisabled=!0),i.contract_id=i.contract_id,this.stateId=this.$route.query.id,this.stateFlag=this.$route.query.state,this.showSubmitBtn=!1):(i.contract_id=i.id,i.payment_company_id=i.contract_party_a_company_id,i.revenue_company_id=i.contract_party_b_company_id,i.info_data=[{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""},{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""},{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""}]),this.$store.state.company.companyList.map((function(t,a){t.id==i.payment_company_id&&(e.payInvoice_code=t.invoice_code),t.id==i.revenue_company_id&&(e.revenue_Invoice_code=t.invoice_code)})),console.log("obj",i),this.$route.query.noRemark&&(i.remarks=""),this.reqParam=i}this.$route.query.detailToCreate&&(this.detailToCreate=this.$route.query.detailToCreate),this.$route.query.from&&(this.from=this.$route.query.from),this.$route.params.isAdmin||void 0==this.$route.params.isAdmin||(this.isAdmin=this.$route.params.isAdmin)},methods:{handleTop:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])({id:t.$route.query.id});case 2:i=e.sent,200==i.code&&(t.$message.success(i.msg),t.istop=!t.istop);case 4:case"end":return e.stop()}}),e)})))()},handleInvoicesAdd:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var i,a,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isAdmin){t.next=5;break}if(e.isAdd){t.next=5;break}if(e.reqParam.project_id){t.next=5;break}return e.$message({type:"warning",message:"请选择项目"}),t.abrupt("return");case 5:if(i=!1,e.reqParam.info_data.map((function(e){e.project_name&&e.unit&&e.quantity&&e.unit_price&&e.total_amount&&e.tariff&&e.tax&&(i=!0)})),i){t.next=10;break}return e.$message("请完整填写表格每一项"),t.abrupt("return");case 10:return a=Object(r["a"])(Object(r["a"])({},e.reqParam),{},{type:e.invoicesType,info_data:JSON.stringify(e.reqParam.info_data)}),t.next=13,Object(c["q"])(a);case 13:n=t.sent,n&&e.$message({type:"success",message:"添加成功"}),e.payInvoice_code="",e.revenue_Invoice_code="",e.reqParam={is_project:0,project_id:"",contract_id:"",type:"",payment_company_id:"",money:"",revenue_company_id:"",remarks:"",info_data:[{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""},{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""},{project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""}]};case 18:case"end":return t.stop()}}),t)})))()},handleInput:function(e,t,i){var a=this;this.$forceUpdate(),this.companyList.map((function(e,t){e.id==a.reqParam.payment_company_id&&(a.payInvoice_code=e.invoice_code),e.id==a.reqParam.revenue_company_id&&(a.revenue_Invoice_code=e.invoice_code)}));var n=0;if(this.reqParam.info_data.map((function(e){n=Number(n)+Number(e.total_amount)})),this.publicsNumToUpper(n),this.reqParam.money=n,i){var r=this.reqParam.info_data[t];switch(i){case"quantity":if(!e)return void(r.total_amount="");if(r.total_amount)r.unit_price=Object(d["a"])("".concat(r.total_amount,"/").concat(e));else{if(!r.unit_price)return;r.total_amount=Object(d["a"])("".concat(r.unit_price,"*").concat(e))}break;case"unit_price":if(!e)return void(r.total_amount="");if(!r.quantity)return;r.total_amount=Object(d["a"])("".concat(r.quantity,"*").concat(e));break;case"total_amount":if(!e)return r.tax="",void(r.unit_price="");r.quantity&&(r.unit_price=Object(d["a"])("".concat(e,"/").concat(r.quantity)));break;case"tariff":break;case"tax":break}r.tariff?r.total_amount&&(r.tax=Object(d["a"])("".concat(r.total_amount,"-(").concat(r.total_amount,"/(1+(").concat(r.tariff,"*0.01)))")).toFixed(5)):r.tax=""}},handlePass:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["g"])({id:t.stateId,type:"1"});case 2:i=e.sent,200==i.code&&(t.$message.success(i.msg),t.$router.push({name:"pendApprovalList"}));case 4:case"end":return e.stop()}}),e)})))()},handleReject:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){var i;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["g"])({id:t.stateId,type:"2"});case 2:i=e.sent,200==i.code&&(t.$message.success(i.msg),t.$router.push({name:"pendApprovalList"}));case 4:case"end":return e.stop()}}),e)})))()},publicsNumToUpper:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function i(){var a;return Object(o["a"])().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(c["y"])({number:e});case 2:a=i.sent,t.all_price_upCase=a.data.str;case 4:case"end":return i.stop()}}),i)})))()},handleAddItem:function(){console.log("this.reqParam.info_data",this.reqParam.info_data),this.reqParam.info_data.push({project_name:"",specifications:"",unit:"",quantity:"",unit_price:"",total_amount:"",tariff:"",tax:""})},getCompanyList:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var i,a,n;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["l"])();case 2:return i=t.sent,t.next=5,Object(c["k"])();case 5:return a=t.sent,t.next=8,Object(c["j"])();case 8:n=t.sent,e.companyList=i.data,e.$store.commit("company/setCompanyList",i.data),e.projectList=a.data,e.$store.commit("company/setProjectList",a.data),0==e.reqParam.is_project&&(e.contractList=n.data,e.$store.commit("company/setContractList",n.data));case 14:case"end":return t.stop()}}),t)})))()},handleSelectChange:function(e,t){var i=this;if("project"==t){if(0==this.reqParam.is_project)return;this.reqParam.contract_id="",this.reqParam.payment_company_id="",this.reqParam.revenue_company_id="",this.payInvoice_code="",this.revenue_Invoice_code="",Object(c["j"])({project_id:e}).then((function(e){i.contractList=e.data}))}else{this.$forceUpdate();var a=this.contractList.find((function(t){return t.id==e}));a?(this.reqParam.payment_company_id=a.contract_party_a_company_id,this.reqParam.revenue_company_id=a.contract_party_b_company_id):(this.reqParam.payment_company_id="",this.reqParam.revenue_company_id="",this.payInvoice_code="",this.revenue_Invoice_code="")}},handleIsProjectChange:function(e){var t=this;this.reqParam.contract_id="",this.reqParam.project_id="",this.reqParam.payment_company_id="",this.reqParam.revenue_company_id="",this.payInvoice_code="",this.revenue_Invoice_code="",0==e&&Object(c["j"])().then((function(e){t.contractList=e.data}))}}},m=u,_=(i("e3e9"),i("2877")),x=Object(_["a"])(m,a,n,!1,null,"2e6c3b6a",null);t["default"]=x.exports},"267e":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var a={FROM_TREE_TO_INVOICE:"FROM_TREE_TO_INVOICE"}},"291f":function(e,t,i){},"9a04":function(e,t,i){e.exports=i.p+"static/img/checking.73c367ae.png"},ac6f:function(e,t,i){e.exports=i.p+"static/img/refuted.d21e0353.png"},e3e9:function(e,t,i){"use strict";i("291f")}}]);