(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c15661f2"],{"0993":function(t,e,a){t.exports=a.p+"static/img/checked.f8521b5f.png"},"21fd":function(t,e,a){},"5b99":function(t,e,a){"use strict";a("21fd")},"77b4":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.showSubmitBtn?t._e():s("div",{staticStyle:{position:"absolute",top:"50px",right:"300px","z-index":"10"}},["已审批"==t.state_name?s("img",{staticStyle:{display:"block",width:"150px"},attrs:{src:a("0993"),alt:""}}):t._e(),"审批中"==t.state_name?s("img",{staticStyle:{display:"block",width:"150px"},attrs:{src:a("9a04"),alt:""}}):t._e(),"已驳回"==t.state_name?s("img",{staticStyle:{display:"block",width:"150px"},attrs:{src:a("ac6f"),alt:""}}):t._e()]),t.permit_type_name?s("div",{staticStyle:{"margin-top":"50px"}},[s("span",{staticStyle:{"padding-left":"20px",color:"#666666","padding-top":"50px"}},[t._v("审批事项："+t._s(t.permit_type_name))]),t.showIsTop?s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{size:"small",type:"primary"},on:{click:t.handleTop}},[t._v(t._s(t.istop?"取消置顶":"置顶主页"))]):t._e()],1):t._e(),s("div",{staticStyle:{display:"flex",width:"100%","justify-content":"center","margin-top":"150px"}},[s("el-steps",{staticStyle:{position:"relative"},attrs:{active:t.active,"finish-status":"success"}},[s("div",{staticStyle:{position:"absolute",top:"-80px",left:"0"}},[s("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("项目名称："),s("span",{staticStyle:{color:"#666666"}},[t._v(t._s(t.details.project_name))])]),s("div",[t._v("保证金金额："),s("span",{staticStyle:{color:"#666666"}},[t._v(t._s(t.details.earnest_money))])])]),t._l(t.details.permit_process,(function(e,a){return s("el-step",{key:a,class:"已驳回"==e.name?"redColor":"",staticStyle:{width:"200px"},attrs:{title:e.name}},[s("template",{slot:"description"},[a==t.active&&1==t.details.permitting_state?s("div",[s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){t.handleDetails(t.active+1,t.details.id,t.active+1<t.details.permit_process.length?null:t.details["step_1"])}}},[t._v("创建")])],1)])])])]):t._e(),0==a&&t.details.step_1?s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[t._v("付款方式："),s("span",[t._v(t._s(t.details.step_1.pay_type_name))])]),s("p",[t._v("付款方："),s("span",[t._v(t._s(t.details.step_1.payment_company_name))])]),s("p",[t._v("付款账号："),s("span",[t._v(t._s(t.details.step_1.payment_company_bank_number))])]),s("p",[t._v("收款方："),s("span",[t._v(t._s(t.details.step_1.revenue_company_name))])]),s("p",[t._v("收款账号："),s("span",[t._v(t._s(t.details.step_1.revenue_company_bank_number))])]),s("p",[t._v("付款金额："),s("span",[t._v(t._s(t.details.step_1.payment_money))])]),s("p",[t._v("备注："),s("span",[t._v(t._s(t.details.step_1.remarks))])]),s("p",[t._v("创建时间："),s("span",[t._v(t._s(t.details.step_1.create_time))])]),s("p",{staticStyle:{display:"flex"}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handlePreView("1")}}},[t._v("查看回执")]),s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){return t.handleDetails(1,t.details.id,t.details.step_1)}}},[t._v("编辑")])],1)])])]):t._e(),1==a&&t.details.step_2?s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[t._v("付款方式："),s("span",[t._v(t._s(t.details.step_2.pay_type_name))])]),s("p",[t._v("付款方："),s("span",[t._v(t._s(t.details.step_2.payment_company_name))])]),s("p",[t._v("付款账号："),s("span",[t._v(t._s(t.details.step_2.payment_company_bank_number))])]),s("p",[t._v("收款方："),s("span",[t._v(t._s(t.details.step_2.revenue_company_name))])]),s("p",[t._v("收款账号："),s("span",[t._v(t._s(t.details.step_2.revenue_company_bank_number))])]),s("p",[t._v("付款金额："),s("span",[t._v(t._s(t.details.step_2.payment_money))])]),s("p",[t._v("备注："),s("span",[t._v(t._s(t.details.step_2.remarks))])]),s("p",[t._v("创建时间："),s("span",[t._v(t._s(t.details.step_2.create_time))])]),s("p",{staticStyle:{display:"flex"}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handlePreView("2")}}},[t._v("查看回执")]),s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){return t.handleDetails(2,t.details.id,t.details.step_2)}}},[t._v("编辑")])],1)])])]):t._e(),2==a&&t.details.step_3?s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[t._v("付款方式："),s("span",[t._v(t._s(t.details.step_3.pay_type_name))])]),s("p",[t._v("付款方："),s("span",[t._v(t._s(t.details.step_3.payment_company_name))])]),s("p",[t._v("付款账号："),s("span",[t._v(t._s(t.details.step_3.payment_company_bank_number))])]),s("p",[t._v("收款方："),s("span",[t._v(t._s(t.details.step_3.revenue_company_name))])]),s("p",[t._v("收款账号："),s("span",[t._v(t._s(t.details.step_3.revenue_company_bank_number))])]),s("p",[t._v("付款金额："),s("span",[t._v(t._s(t.details.step_3.payment_money))])]),s("p",[t._v("备注："),s("span",[t._v(t._s(t.details.step_3.remarks))])]),s("p",[t._v("创建时间："),s("span",[t._v(t._s(t.details.step_3.create_time))])]),s("p",{staticStyle:{display:"flex"}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handlePreView("3")}}},[t._v("查看回执")]),s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){return t.handleDetails(3,t.details.id,t.details.step_3)}}},[t._v("编辑")])],1)])])]):t._e(),3==a&&t.details.step_4?s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[t._v("付款方式："),s("span",[t._v(t._s(t.details.step_4.pay_type_name))])]),s("p",[t._v("付款方："),s("span",[t._v(t._s(t.details.step_4.payment_company_name))])]),s("p",[t._v("付款账号："),s("span",[t._v(t._s(t.details.step_4.payment_company_bank_number))])]),s("p",[t._v("收款方："),s("span",[t._v(t._s(t.details.step_4.revenue_company_name))])]),s("p",[t._v("收款账号："),s("span",[t._v(t._s(t.details.step_4.revenue_company_bank_number))])]),s("p",[t._v("付款金额："),s("span",[t._v(t._s(t.details.step_4.payment_money))])]),s("p",[t._v("备注："),s("span",[t._v(t._s(t.details.step_4.remarks))])]),s("p",[t._v("创建时间："),s("span",[t._v(t._s(t.details.step_4.create_time))])]),s("p",{staticStyle:{display:"flex"}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handlePreView("4")}}},[t._v("查看回执")]),s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){return t.handleDetails(4,t.details.id,t.details.step_4)}}},[t._v("编辑")])],1)])])]):t._e(),4==a&&t.details.step_5?s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[t._v("付款方式："),s("span",[t._v(t._s(t.details.step_5.pay_type_name))])]),s("p",[t._v("付款方："),s("span",[t._v(t._s(t.details.step_5.payment_company_name))])]),s("p",[t._v("付款账号："),s("span",[t._v(t._s(t.details.step_5.payment_company_bank_number))])]),s("p",[t._v("收款方："),s("span",[t._v(t._s(t.details.step_5.revenue_company_name))])]),s("p",[t._v("收款账号："),s("span",[t._v(t._s(t.details.step_5.revenue_company_bank_number))])]),s("p",[t._v("付款金额："),s("span",[t._v(t._s(t.details.step_5.payment_money))])]),s("p",[t._v("备注："),s("span",[t._v(t._s(t.details.step_5.remarks))])]),s("p",[t._v("创建时间："),s("span",[t._v(t._s(t.details.step_5.create_time))])]),s("p",{staticStyle:{display:"flex"}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handlePreView("5")}}},[t._v("查看回执")]),s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){return t.handleDetails(5,t.details.id,t.details.step_5)}}},[t._v("编辑")])],1)])])]):t._e(),5==a&&t.details.step_6?s("div",{staticStyle:{"margin-left":"-60px",width:"200px"}},[s("div",{staticStyle:{width:"180px",margin:"0 auto"}},[s("div",{staticStyle:{height:"100px",width:"1px","border-left":"1px solid #eee",margin:"0 auto"}}),s("div",{staticStyle:{width:"180px",border:"1px solid #eee",margin:"0 auto",color:"black",padding:"20px"}},[s("p",[t._v("付款方式："),s("span",[t._v(t._s(t.details.step_6.pay_type_name))])]),s("p",[t._v("付款方："),s("span",[t._v(t._s(t.details.step_6.payment_company_name))])]),s("p",[t._v("付款账号："),s("span",[t._v(t._s(t.details.step_6.payment_company_bank_number))])]),s("p",[t._v("收款方："),s("span",[t._v(t._s(t.details.step_6.revenue_company_name))])]),s("p",[t._v("收款账号："),s("span",[t._v(t._s(t.details.step_6.revenue_company_bank_number))])]),s("p",[t._v("付款金额："),s("span",[t._v(t._s(t.details.step_6.payment_money))])]),s("p",[t._v("备注："),s("span",[t._v(t._s(t.details.step_6.remarks))])]),s("p",[t._v("创建时间："),s("span",[t._v(t._s(t.details.step_6.create_time))])]),s("p",{staticStyle:{display:"flex"}},[s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handlePreView("6")}}},[t._v("查看回执")]),s("el-button",{attrs:{disabled:t.typeStatus,size:"mini",type:"primary"},on:{click:function(e){return t.handleDetails(6,t.details.id,t.details.step_6)}}},[t._v("编辑")])],1)])])]):t._e()])],2)}))],2)],1),t.canyuShow?s("div",[t.showSubmitBtn||0!=t.state?t._e():s("div",{staticClass:"action",staticStyle:{"text-align":"center","margin-top":"20px","margin-bottom":"200px"}},[s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.handlePass(t.state)}}},[t._v("通过")]),s("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.handleReject(t.state)}}},[t._v("驳回")])],1)]):t._e(),s("el-dialog",{attrs:{title:"回执单查看",visible:t.preViewImg},on:{"update:visible":function(e){t.preViewImg=e}}},[0==t.fileUrl.length?s("div",[t._v("无回执")]):t._e(),t.fileUrl.length?s("div",t._l(t.fileUrl,(function(e,a){return s("div",{key:a,staticClass:"receipt_item"},[s("div",[t._v(t._s(e))]),s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handleReceipt(e)}}},[t._v("查看")])],1)})),0):t._e()])],1)},i=[],n=a("5530"),p=a("c7eb"),r=a("1da1"),_=(a("d81d"),a("b0c0"),a("b64b"),a("a573"),a("277f")),l=a("429f"),d={data:function(){return{state_name:"",permit_type_name:"",showIsTop:!1,istop:!1,canyuShow:!0,showSubmitBtn:!0,state:"",typeStatus:!1,fileUrl:[],preViewImg:!1,active:0,details:{},itemArray:[]}},mounted:function(){this.state_name=this.$route.query.state_name,this.permit_type_name=this.$route.query.permit_type_name,this.istop=1==this.$route.query.isTop,this.showIsTop=0==this.$route.query.state,this.$route.query.canyuShow||void 0==this.$route.query.canyuShow||(this.canyuShow=this.$route.query.canyuShow),this.getDetails(),this.$route.query.type&&(this.typeStatus=Boolean(this.$route.query.type),this.canyuShow&&this.permitsGetInfoFun({id:this.$route.query.shenpiId}),this.showSubmitBtn=!this.$route.query.type)},methods:{handleTop:function(t){var e=this;return Object(r["a"])(Object(p["a"])().mark((function t(){var a;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["a"])({id:e.$route.query.shenpiId});case 2:a=t.sent,200==a.code&&(e.$message.success(a.msg),e.istop=!e.istop);case 4:case"end":return t.stop()}}),t)})))()},handlePass:function(t){var e=this;return Object(r["a"])(Object(p["a"])().mark((function t(){var a;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["g"])({id:e.$route.query.shenpiId,type:"1"});case 2:a=t.sent,200==a.code&&(e.$message.success(a.msg),e.$router.push({name:"pendApprovalList"}));case 4:case"end":return t.stop()}}),t)})))()},handleReject:function(t){var e=this;return Object(r["a"])(Object(p["a"])().mark((function t(){var a;return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["g"])({id:e.$route.query.shenpiId,type:"2"});case 2:a=t.sent,200==a.code&&(e.$message.success(a.msg),e.$router.push({name:"pendApprovalList"}));case 4:case"end":return t.stop()}}),t)})))()},permitsGetInfoFun:function(t){var e=this;return Object(r["a"])(Object(p["a"])().mark((function a(){var s;return Object(p["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(_["x"])(t);case 2:s=a.sent,e.state=s.data.state;case 4:case"end":return a.stop()}}),a)})))()},getDetails:function(){var t=this;return Object(r["a"])(Object(p["a"])().mark((function e(){var a;return Object(p["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.$route.query.bindId){e.next=7;break}return e.next=3,Object(_["d"])({id:t.$route.query.bindId});case 3:a=e.sent,t.typeStatus=0==a.data.permitting_state,e.next=11;break;case 7:return e.next=9,Object(_["d"])({id:t.$route.query.id});case 9:a=e.sent,t.typeStatus=0==a.data.permitting_state;case 11:2==a.data.permitting_state&&(a.data.permit_process[a.data.phase-1].name="已驳回"),t.details=a.data,a.data.permit_process.map((function(e,a){2==e.state&&(t.active=a+1)}));case 14:case"end":return e.stop()}}),e)})))()},handleDetails:function(t,e,a){console.log("222222222222222222",a),this.$router.push({name:"depositLaunch",params:{step:t,id:e,data:Object(n["a"])(Object(n["a"])({},a),{},{client_company_id:this.details.client_company_id})}})},handlePreView:function(t){this.preViewImg=!0;var e=JSON.parse(this.details["step_".concat(t)].file);this.fileUrl=e},handleDownLoad:function(){},handleReceipt:function(t){window.open(t)}}},c=d,o=(a("5b99"),a("2877")),u=Object(o["a"])(c,s,i,!1,null,"1ca56466",null);e["default"]=u.exports},"9a04":function(t,e,a){t.exports=a.p+"static/img/checking.73c367ae.png"},ac6f:function(t,e,a){t.exports=a.p+"static/img/refuted.d21e0353.png"}}]);